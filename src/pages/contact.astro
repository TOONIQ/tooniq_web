---
/**
 * お問い合わせページ - TOONIQウェブサイト
 *
 * お問い合わせフォームと連絡先情報を表示
 * Reactコンポーネントを使用したインタラクティブなフォーム
 *
 * リーダブルコードの原則に従い、各セクションを明確に分離し、
 * データとビューのロジックを分けて可読性を向上
 */

// ============================================
// レイアウトとコンポーネントのインポート
// ============================================

import BaseLayout from '@/layouts/BaseLayout.astro';

// Reactコンポーネント（インタラクティブな要素）
import ContactForm from '@/components/react/ContactForm';
import ParallaxSection from '@/components/react/ParallaxSection';

// Lucide Reactアイコン
import {
  Mail,
  MapPin,
  Calendar,
  Clock,
  AlertCircle
} from 'lucide-react';

// ============================================
// ページメタデータ
// ============================================

const pageTitle = 'お問い合わせ';
const pageDescription = 'TOONIQへのお問い合わせはこちらから。サービスに関するご質問やご相談は、お気軽にお問い合わせください。';

// ============================================
// データ定義: 連絡先情報
// ============================================

const contactInfo = [
  {
    icon: Mail,
    title: 'メールアドレス',
    content: 'contact@tooniq.co.jp',
    href: 'mailto:contact@tooniq.co.jp'
  },
  {
    icon: MapPin,
    title: '所在地',
    content: '東京都',
    href: null
  },
  {
    icon: Calendar,
    title: '設立',
    content: '2025年',
    href: null
  },
  {
    icon: Clock,
    title: '営業時間',
    content: '平日 10:00 - 18:00',
    href: null
  }
];

// ============================================
// データ定義: よくある質問
// ============================================

const faqs = [
  {
    q: '見積もりは無料ですか？',
    a: 'はい、お見積もりは無料です。お気軽にご相談ください。'
  },
  {
    q: 'AnimaTimeの導入期間はどのくらいですか？',
    a: '規模にもよりますが、通常1〜2週間程度で導入可能です。'
  },
  {
    q: 'リモートでのサポートは可能ですか？',
    a: 'はい、オンラインでのサポートも対応しております。'
  },
  {
    q: '小規模な制作会社でも導入できますか？',
    a: '規模に関わらず導入可能です。お客様に合わせたプランをご提案します。'
  }
];
---

<BaseLayout title={pageTitle} description={pageDescription}>
  <!-- ============================================
       セクション1: ヒーローセクション
       ページの第一印象を決定する重要なセクション
       ============================================ -->
  <section class="relative min-h-[60vh] flex items-center justify-center overflow-hidden">
    <!-- 背景画像 -->
    <div class="absolute inset-0">
      <img
        src="/images/contact-bg.jpg"
        alt="お問い合わせ"
        class="w-full h-full object-cover"
      />
      <div class="absolute inset-0 bg-gradient-to-br from-slate-900/80 via-purple-900/70 to-slate-900/80"></div>
    </div>

    <!-- 背景アニメーション: 動的なBlobエフェクト -->
    <div class="absolute inset-0 overflow-hidden" aria-hidden="true">
      <div class="absolute -left-4 top-0 h-72 w-72 animate-blob rounded-full bg-purple-500 opacity-20 mix-blend-multiply blur-3xl filter"></div>
      <div class="absolute -right-4 top-0 h-72 w-72 animate-blob animation-delay-2000 rounded-full bg-indigo-500 opacity-20 mix-blend-multiply blur-3xl filter"></div>
    </div>

    <!-- ヒーローコンテンツ -->
    <div class="relative mx-auto max-w-7xl px-4 py-24 sm:px-6 lg:px-8">
      <div class="text-center">
        <!-- メインタイトル -->
        <h1 class="mb-6 text-5xl font-bold">
          <span class="bg-gradient-to-r from-purple-400 to-indigo-400 bg-clip-text text-transparent drop-shadow-lg">
            お問い合わせ
          </span>
        </h1>

        <!-- サブタイトル -->
        <p class="text-xl text-slate-200 drop-shadow-md">
          お気軽にお問い合わせください
        </p>
      </div>
    </div>
  </section>

  <!-- ============================================
       セクション2: フォームと連絡先情報
       お問い合わせフォームと企業の連絡先を表示
       ============================================ -->
  <ParallaxSection client:load offset={80}>
    <section class="bg-white py-24 dark:bg-slate-800">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
          <!-- 連絡先情報 -->
          <div class="lg:col-span-1">
            <h2 class="text-2xl font-bold mb-6 text-slate-900 dark:text-slate-100">
              連絡先情報
            </h2>

            <!-- 連絡先カード -->
            <div class="space-y-6">
              {contactInfo.map((info) => (
                <div class="flex items-start space-x-4">
                  <div class="flex-shrink-0">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-r from-purple-600 to-indigo-600 flex items-center justify-center">
                      <info.icon className="w-5 h-5 text-white" />
                    </div>
                  </div>
                  <div>
                    <h3 class="font-semibold mb-1 text-slate-900 dark:text-slate-100">
                      {info.title}
                    </h3>
                    {info.href ? (
                      <a
                        href={info.href}
                        class="text-slate-600 dark:text-slate-400 hover:text-purple-600 dark:hover:text-cyan-500 transition-colors"
                      >
                        {info.content}
                      </a>
                    ) : (
                      <p class="text-slate-600 dark:text-slate-400">
                        {info.content}
                      </p>
                    )}
                  </div>
                </div>
              ))}
            </div>

            <!-- お問い合わせについての注意書き -->
            <div class="mt-8 p-6 rounded-xl bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700">
              <h3 class="font-semibold mb-2 flex items-center text-slate-900 dark:text-slate-100">
                <AlertCircle className="w-5 h-5 mr-2 text-purple-600 dark:text-purple-400" />
                お問い合わせについて
              </h3>
              <p class="text-sm text-slate-600 dark:text-slate-400">
                通常、1〜2営業日以内にご返信いたします。
                お急ぎの場合は、メールの件名に「【緊急】」とご記載ください。
              </p>
            </div>
          </div>

          <!-- お問い合わせフォーム -->
          <div class="lg:col-span-2">
            <ContactForm client:load />
          </div>
        </div>
      </div>
    </section>
  </ParallaxSection>

  <!-- ============================================
       セクション3: よくある質問
       FAQ形式で一般的な質問に回答
       ============================================ -->
  <ParallaxSection client:load offset={60}>
    <section class="bg-slate-50 py-24 dark:bg-slate-900">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto">
          <!-- セクションヘッダー -->
          <h2 class="text-3xl font-bold mb-12 text-center text-slate-900 dark:text-slate-100">
            よくある<span class="bg-gradient-to-r from-purple-600 to-indigo-600 bg-clip-text text-transparent">ご質問</span>
          </h2>

          <!-- FAQリスト -->
          <div class="space-y-6">
            {faqs.map((faq) => (
              <div class="bg-white dark:bg-slate-800 rounded-xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-shadow duration-300">
                <h3 class="font-semibold mb-2 text-slate-900 dark:text-slate-100">
                  {faq.q}
                </h3>
                <p class="text-slate-600 dark:text-slate-400">
                  {faq.a}
                </p>
              </div>
            ))}
          </div>
        </div>
      </div>
    </section>
  </ParallaxSection>
</BaseLayout>

<!-- ============================================
     カスタムスタイル
     アニメーションとエフェクトの定義
     ============================================ -->
<style>
  /* Blobアニメーション: 背景の有機的な動き */
  @keyframes blob {
    0%,
    100% {
      transform: translate(0, 0) scale(1);
    }
    33% {
      transform: translate(30px, -50px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
  }

  .animate-blob {
    animation: blob 7s infinite;
  }

  .animation-delay-2000 {
    animation-delay: 2s;
  }

  /* ガラスエフェクト */
  .glass-effect {
    background: rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
  }

  :global(.dark) .glass-effect {
    background: rgba(30, 41, 59, 0.7);
    border: 1px solid rgba(71, 85, 105, 0.3);
  }
</style>
